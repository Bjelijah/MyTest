package com.example.viewmodel.sinvoice

import android.util.Log

/**
 * Created by Administrator on 2018/1/2.
 */
object CodeBookEx {

    /**
     *  f 1442 to 4410     size 11    per 270
     */

    val CODE_BOOK = mapOf(
            '0' to 1440,  //num  288
            '1' to 1710,//342
            '2' to 1980,//396
            '3' to 2250,//450
            '4' to 2520,//504
            '5' to 2790,//558
            '6' to 3060,//612
            '7' to 3330,//666
            '8' to 3600,//720
            '9' to 3870,//774
            '#' to 4410//882
    )


    val ASCII_CODE_BOOK = mapOf(
            ' ' to 32,//0x20, 288  32
            '!' to 33,//0x21, 294        33
            '\"' to 34,//0x22,300 34
            '#' to 35,//0x23,
            '$' to 36,//0x24,
            '%' to 37,//0x25,
            '&' to 38,//0x26,
            '\'' to 39,//0x27,
            '(' to 40,//0x28,
            ')' to 41,//0x29,
            '*' to 42,//0x2a,
            '+' to 43,//0x2b,
            ',' to 44,//0x2c,
            '-' to 45,//0x2d,
            '.' to 46,//0x2e,
            '/' to 47,//0x2f,
            '0' to 48,//0x30,
            '1' to 49,//0x31,
            '2' to 50,//0x32,
            '3' to 51,//0x33,
            '4' to 52,//0x34,
            '5' to 53,//0x35,
            '6' to 54,//0x36,
            '7' to 55,//0x37,
            '8' to 56,//0x38,
            '9' to 57,//0x39,
            ':' to 58,//0x3a,
            ';' to 59,//0x3b,
            '<' to 60,//0x3c,
            '=' to 61,//0x3d,
            '>' to 62,//0x3e,
            '?' to 63,//0x3f,
            '@' to 64,//0x40,
            'A' to 65,//0x41,
            'B' to 66,//0x42,
            'C' to 67,//0x43,
            'D' to 68,//0x44,
            'E' to 69,//0x45,
            'F' to 70,//0x46,
            'G' to 71,//0x47,
            'H' to 72,//0x48,
            'I' to 73,//0x49,
            'J' to 74,//0x4a,
            'K' to 75,//0x4b,
            'L' to 76,//0x4c,
            'M' to 77,//0x4d,
            'N' to 78,//0x4e,
            'O' to 79,//0x4f,
            'P' to 80,//0x50,
            'Q' to 81,//0x51,
            'R' to 82,//0x52,
            'S' to 83,//0x53,
            'T' to 84,//0x54,
            'U' to 85,//0x55,
            'V' to 86,//0x56,
            'W' to 87,//0x57,
            'X' to 88,//0x58,
            'Y' to 89,//0x59,
            'Z' to 90,//0x5a,
            '[' to 91,//0x5b,
            '\\' to 92,//0x5c,
            ']' to 93,//0x5d,
            '^' to 94,//0x5e,
            '_' to 95,//0x5f,
            '`' to 96,//0x60,
            'a' to 97,//0x61,
            'b' to 98,//0x62,
            'c' to 99,//0x63,
            'd' to 100,//0x64,
            'e' to 101,//0x65,
            'f' to 102,//0x66,
            'g' to 103,//0x67,
            'h' to 104,//0x68,
            'i' to 105,//0x69,
            'j' to 106,//0x6a,
            'k' to 107,//0x6b,
            'l' to 108,//0x6c,
            'm' to 109,//0x6d,
            'n' to 110,//0x6e,
            'o' to 111,//0x6f,
            'p' to 112,//0x70,
            'q' to 113,//0x71,
            'r' to 114,//0x72,
            's' to 115,//0x73,
            't' to 116,//0x74,
            'u' to 117,//0x75,
            'v' to 118,//0x76,
            'w' to 119,//0x77,
            'x' to 120,//0x78,
            'y' to 121,//0x79,
            'z' to 122,//0x7a,
            '{' to 123,//0x7b,
            '|' to 124,//0x7c,
            '}' to 125,//0x7d,
            '~' to 126//0x7e   4410
    )


    fun getASCIICode(str:String?):String{
        var sb = StringBuffer()
        if (str != null) {
            for (c in str){
                sb.append("#")
                sb.append(getASCIICCode(c))
            }
        }
        Log.i("123","$sb")
        return sb.toString()
    }


    fun getASCIICCode(c:Char):Int = ASCII_CODE_BOOK.getValue(c)

    fun getStringFromASCIICode(code:Int):String{
        var str = ""
        for(key in ASCII_CODE_BOOK){
            if(key.value == code) str = key.key.toString()
        }
        return str
    }

    fun getCode(c:Char):Int = CODE_BOOK.getValue(c)


    fun getStringCode(code:Int):String{
        var str = when(code){
            in 1430..1450 -> ' '
            in 1451..1480 -> '!'
            in 1481..1510 -> '\"'
            in 1511..1540 -> '#'
            in 1541..1570 -> '$'
            in 1571..1600 -> '%'
            in 1601..1630 -> '&'
            in 1631..1660 -> '\''
            in 1661..1690 -> '('
            in 1691..1720 -> ')'
            in 1721..1750 -> '*'
            in 1751..1780 -> '+'
            in 1781..1810 -> ','
            in 1811..1840 -> '-'
            in 1841..1870 -> '.'
            in 1871..1900 -> '/'
            in 1901..1930 -> '0'
            in 1931..1960 -> '1'
            in 1961..1990 -> '2'
            in 1991..2020 -> '3'
            in 2021..2050 -> '4'
            in 2051..2080 -> '5'
            in 2081..2110 -> '6'
            in 2111..2140 -> '7'
            in 2141..2170 -> '8'
            in 2171..2200 -> '9'
            in 2201..2230 -> ':'
            in 2231..2260 -> ';'
            in 2261..2290 -> '<'
            in 2291..2320 -> '='
            in 2321..2350 -> '>'
            in 2351..2380 -> '?'
            in 2381..2410 -> '@'
            in 2411..2440 -> 'A'
            in 2441..2470 -> 'B'
            in 2471..2500 -> 'C'
            in 2501..2530 -> 'D'
            in 2531..2560 -> 'E'
            in 2561..2590 -> 'F'
            in 2591..2620 -> 'G'
            in 2621..2650 -> 'H'
            in 2651..2680 -> 'I'
            in 2681..2710 -> 'J'
            in 2711..2740 -> 'K'
            in 2741..2770 -> 'L'
            in 2771..2800 -> 'M'
            in 2801..2830 -> 'N'
            in 2831..2860 -> 'O'
            in 2861..2890 -> 'P'
            in 2891..2920 -> 'Q'
            in 2921..2950 -> 'R'
            in 2951..2980 -> 'S'
            in 2981..3010 -> 'T'
            in 3011..3040 -> 'U'
            in 3041..3070 -> 'V'
            in 3071..3100 -> 'W'
            in 3101..3130 -> 'X'
            in 3131..3160 -> 'Y'
            in 3161..3190 -> 'Z'
            in 3191..3220 -> '['
            in 3221..3250 -> '\\'
            in 3251..3280 -> ']'
            in 3281..3310 -> '^'
            in 3311..3340 -> '_'
            in 3341..3370 -> '`'
            in 3371..3400 -> 'a'
            in 3401..3430 -> 'b'
            in 3431..3460 -> 'c'
            in 3461..3490 -> 'd'
            in 3491..3520 -> 'e'
            in 3521..3550 -> 'f'
            in 3551..3580 -> 'g'
            in 3581..3610 -> 'h'
            in 3611..3640 -> 'i'
            in 3641..3670 -> 'j'
            in 3671..3700 -> 'k'
            in 3701..3730 -> 'l'
            in 3731..3760 -> 'm'
            in 3761..3790 -> 'n'
            in 3791..3820 -> 'o'
            in 3821..3850 -> 'p'
            in 3851..3880 -> 'q'
            in 3881..3910 -> 'r'
            in 3911..3940 -> 's'
            in 3941..3970 -> 't'
            in 3971..4000 -> 'u'
            in 4001..4030 -> 'v'
            in 4031..4060 -> 'w'
            in 4061..4090 -> 'x'
            in 4091..4120 -> 'y'
            in 4121..4150 -> 'z'
            in 4151..4180 -> '{'
            in 4181..4210 -> '|'
            in 4211..4240 -> '}'
            in 4241..4420 -> '~'
            else->""
        }
        return str.toString()
    }

    fun getStringFromNum(num:Int):String{
        var str = when(num){
            in 270..288 -> ' '
            in 281..294 -> '!'
            in 295..300 -> '\"'
            in 301..306 -> '#'
            in 307..312 -> '$'
            in 313..318 -> '%'
            in 319..324 -> '&'
            in 325..330 -> '\''
            in 331..336 -> '('
            in 337..342 -> ')'
            in 343..348 -> '*'
            in 349..354 -> '+'
            in 355..360 -> ','
            in 361..366 -> '-'
            in 367..372 -> '.'
            in 373..378 -> '/'
            in 379..384 -> '0'
            in 385..390 -> '1'
            in 391..396 -> '2'
            in 397..402 -> '3'
            in 403..408 -> '4'
            in 409..414 -> '5'
            in 415..420 -> '6'
            in 421..426 -> '7'
            in 427..432 -> '8'
            in 433..438 -> '9'
            in 439..444 -> ':'
            in 445..450 -> ';'
            in 451..456 -> '<'
            in 457..462 -> '='
            in 463..468 -> '>'
            in 469..474 -> '?'
            in 475..480 -> '@'
            in 480..486 -> 'A'
            in 487..492 -> 'B'
            in 493..498 -> 'C'
            in 499..504 -> 'D'
            in 505..510 -> 'E'
            in 511..516 -> 'F'
            in 517..522 -> 'G'
            in 523..528 -> 'H'
            in 529..534 -> 'I'
            in 535..540 -> 'J'
            in 541..546 -> 'K'
            in 547..552 -> 'L'
            in 553..558 -> 'M'
            in 559..564 -> 'N'
            in 565..570 -> 'O'
            in 571..576 -> 'P'
            in 577..582 -> 'Q'
            in 583..588 -> 'R'
            in 589..594 -> 'S'
            in 595..600 -> 'T'
            in 601..606 -> 'U'
            in 607..612 -> 'V'
            in 613..618 -> 'W'
            in 619..624 -> 'X'
            in 625..630 -> 'Y'
            in 631..636 -> 'Z'
            in 637..642 -> '['
            in 643..648 -> '\\'
            in 649..654 -> ']'
            in 655..660 -> '^'
            in 661..666 -> '_'
            in 667..672 -> '`'
            in 673..678 -> 'a'
            in 679..684 -> 'b'
            in 685..690 -> 'c'
            in 691..696 -> 'd'
            in 697..702 -> 'e'
            in 703..708 -> 'f'
            in 709..714 -> 'g'
            in 715..720 -> 'h'
            in 721..726 -> 'i'
            in 727..732 -> 'j'
            in 733..738 -> 'k'
            in 739..744 -> 'l'
            in 745..750 -> 'm'
            in 751..756 -> 'n'
            in 757..762 -> 'o'
            in 763..768 -> 'p'
            in 769..774 -> 'q'
            in 775..780 -> 'r'
            in 781..786 -> 's'
            in 787..792 -> 't'
            in 793..798 -> 'u'
            in 799..804 -> 'v'
            in 805..810 -> 'w'
            in 811..816 -> 'x'
            in 817..822 -> 'y'
            in 823..828 -> 'z'
            in 829..834 -> '{'
            in 835..840 -> '|'
            in 841..846 -> '}'
            in 872..882 -> '~'
            else -> ""
        }
        return str.toString()
    }


    /**
     * @param num sin voice times in 100ms
     * @return code book key
     */
    fun getCodeFromNum(num:Int):String{//per 27
        return when(num){
            in 261..315 -> "0"   // 288
            in 316..369 -> "1"   // 342
            in 370..423 -> "2"   // 396
            in 424..477 -> "3"   // 450
            in 478..532 -> "4"   // 505
            in 533..585 -> "5"   // 558
            in 586..639 -> "6"   // 612
            in 640..693 -> "7"   //666
            in 694..747 -> "8"   // 720
            in 745..801 -> "9"  // 774
            in 810..999 -> "#"  // 882
            else ->""
        }
    }


    fun getCodeFromCount(count:Int):String{
        return when (count){
            in 29..32 -> "0"
            in 25..27 -> "1"
            in 22..24 -> "2"


            else ->""
        }
    }



    fun init(){
//        @ABCDEFGHIJKLMNOPQRSTUVWXYZ[\]^_
//        `abcdefghijklmnopqrstuvwxyz{|}~
    }
}